openapi: 3.0.1
info:
  title: 하루한글 API
  description: 하루한글 API 명세입니다.
  version: 0.0.1
servers:
- url: https://localhost:8080
tags: []
paths:
  /api/me/writings:
    get:
      tags:
      - 글
      summary: 글 목록 조회 API
      description: 글 목록 조회 API 입니다.
      operationId: 글 목록 조회 API
      parameters:
      - name: end-date
        in: query
        description: "종료 (기본값 : 오늘"
        required: true
        schema:
          type: string
      - name: start-date
        in: query
        description: "시작 날짜 (기본값 : 오늘)"
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/글 목록 조회 응답'
              examples:
                글 목록 조회 API:
                  value: "{\n  \"writings\" : [ {\n    \"id\" : \"writing_id1\",\n\
                    \    \"title\" : \"title1\",\n    \"visibility\" : \"PUBLIC\"\
                    ,\n    \"writtenAt\" : \"2024-07-15\"\n  }, {\n    \"id\" : \"\
                    writing_id2\",\n    \"title\" : \"title2\",\n    \"visibility\"\
                    \ : \"PUBLIC\",\n    \"writtenAt\" : \"2024-07-15\"\n  }, {\n\
                    \    \"id\" : \"writing_id3\",\n    \"title\" : \"title3\",\n\
                    \    \"visibility\" : \"PRIVATE\",\n    \"writtenAt\" : \"2024-07-15\"\
                    \n  } ]\n}"
    post:
      tags:
      - 글
      summary: 글 등록 API
      description: 글 등록 API 입니다.
      operationId: 글 등록 API
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/글 작성 요청'
            examples:
              글 등록 API:
                value: "{\n  \"title\" : \"title\",\n  \"keywords\" : [ \"keyword1\"\
                  , \"keyword2\" ],\n  \"content\" : \"content\",\n  \"commentary\"\
                  \ : \"commentary\"\n}"
      responses:
        "200":
          description: "200"
  /api/oauth/google:
    post:
      tags:
      - 인증
      summary: 구글 OAuth 인증 API
      description: 구글 OAuth 인증 API 입니다.
      operationId: 구글 로그인 API
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/로그인 요청'
            examples:
              구글 로그인 API:
                value: "{\n  \"access_token\" : \"access_token\"\n}"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/로그인 응답'
              examples:
                구글 로그인 API:
                  value: "{\n  \"access_token\" : \"access_token\",\n  \"refresh_token\"\
                    \ : \"refresh_token\"\n}"
  /api/oauth/kakao:
    post:
      tags:
      - 인증
      summary: 카카오 OAuth 인증 API
      description: 카카오 OAuth 인증 API 입니다.
      operationId: 카카오 로그인 API
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/로그인 요청'
            examples:
              카카오 로그인 API:
                value: "{\n  \"access_token\" : \"access_token\"\n}"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/로그인 응답'
              examples:
                카카오 로그인 API:
                  value: "{\n  \"access_token\" : \"access_token\",\n  \"refresh_token\"\
                    \ : \"refresh_token\"\n}"
  /api/me/writings/{id}/commentary:
    patch:
      tags:
      - 글
      summary: 글 감상문 수정 API
      description: 글 감상문 수정 API 입니다.
      operationId: 글 감상문 수정 API
      parameters:
      - name: id
        in: path
        description: 글 ID
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/감상문 수정 요청'
            examples:
              글 감상문 수정 API:
                value: "{\n  \"commentary\" : \"commentary\"\n}"
      responses:
        "200":
          description: "200"
  /api/me/writings/{id}/visibility:
    patch:
      tags:
      - 글
      summary: 글 공유 범위 수정 API
      description: "글 공유 범위 수정 API 입니다.\n공유 범위 : PUBLIC, PRIVATE"
      operationId: 글 공유 범위 수정 API
      parameters:
      - name: id
        in: path
        description: 글 ID
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/글 공유 범위 수정 요청'
            examples:
              글 공유 범위 수정 API:
                value: "{\n  \"visibility\" : \"PUBLIC\"\n}"
      responses:
        "200":
          description: "200"
components:
  schemas:
    로그인 응답:
      title: 로그인 응답
      type: object
      properties:
        access_token:
          type: string
          description: 액세스 토큰
        refresh_token:
          type: string
          description: 리프레시 토큰
    로그인 요청:
      title: 로그인 요청
      type: object
      properties:
        access_token:
          type: string
          description: 인증 코드
    감상문 수정 요청:
      title: 감상문 수정 요청
      type: object
      properties:
        commentary:
          type: string
          description: 감상문
    글 공유 범위 수정 요청:
      title: 글 공유 범위 수정 요청
      type: object
      properties:
        visibility:
          type: string
          description: 글의 공유 범위
    글 목록 조회 응답:
      title: 글 목록 조회 응답
      type: object
      properties:
        writings:
          type: array
          description: 글 목록
          items:
            type: object
            properties:
              writtenAt:
                type: string
                description: 글 작성일
              visibility:
                type: string
                description: 글 공개 범위
              id:
                type: string
                description: 글 ID
              title:
                type: string
                description: 글 제목
    글 작성 요청:
      title: 글 작성 요청
      type: object
      properties:
        keywords:
          type: array
          description: 글의 주요 키워드
          items:
            oneOf:
            - type: object
            - type: boolean
            - type: string
            - type: number
        title:
          type: string
          description: 글의 제목
        commentary:
          type: string
          description: 감상문
        content:
          type: string
          description: 글의 내용
